<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>CryptoDigitalPro â€“ Premium Loan Dashboard</title>

<!-- ðŸ” PRODUCTION CSP (NO unsafe-eval) -->
<meta http-equiv="Content-Security-Policy"
content="
default-src 'self';
script-src 'self' https://cdn.socket.io;
connect-src 'self' https://cryptodigitalpro.com https://api.cryptodigitalpro.com wss://cryptodigitalpro.com;
style-src 'self' 'unsafe-inline';
img-src 'self' data:;
font-src 'self';
object-src 'none';
base-uri 'self';
form-action 'self';
">

<style>

/* ================= BASE ================= */

*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:Inter,system-ui,Arial;
}

body{
  background:linear-gradient(135deg,#020617,#0f172a);
  color:#fff;
  min-height:100vh;
  overflow-x:hidden;
}

.container{
  max-width:1200px;
  margin:auto;
  padding:30px 20px;
}

/* ================= GLASS EFFECT ================= */

.glass{
  background:rgba(255,255,255,0.05);
  backdrop-filter:blur(20px);
  -webkit-backdrop-filter:blur(20px);
  border:1px solid rgba(255,255,255,0.1);
  border-radius:16px;
}

/* ================= HEADER ================= */

.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:20px;
  margin-bottom:30px;
  animation:fadeDown .8s ease;
}

.brand strong{
  font-size:22px;
  letter-spacing:.5px;
}

.brand span{
  font-size:12px;
  color:#94a3b8;
}

.btn{
  background:linear-gradient(45deg,#d4af37,#facc15);
  color:#000;
  padding:8px 16px;
  border:none;
  border-radius:8px;
  cursor:pointer;
  font-weight:600;
  transition:.3s;
}

.btn:hover{
  transform:translateY(-2px);
  box-shadow:0 10px 25px rgba(212,175,55,.3);
}

/* ================= BALANCES ================= */

.balance-wrap{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:20px;
  margin-bottom:40px;
}

.balance-box{
  padding:25px;
  text-align:center;
  animation:fadeUp .8s ease;
}

.balance-box .label{
  color:#94a3b8;
  font-size:13px;
}

.balance-box .value{
  font-size:22px;
  font-weight:700;
  margin-top:8px;
}

/* ================= LOANS ================= */

.loan-card{
  padding:20px;
  margin-bottom:15px;
  animation:fadeUp 1s ease;
}

/* ================= PROGRESS BAR ================= */

.progress-wrap{
  margin-top:15px;
  background:rgba(255,255,255,.08);
  border-radius:12px;
  overflow:hidden;
  display:none;
}

.progress-bar{
  width:0%;
  height:35px;
  background:linear-gradient(90deg,#22c55e,#16a34a);
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:600;
  transition:width .4s ease;
}

/* ================= WHATSAPP CHAT ================= */

.chat-toggle{
  position:fixed;
  bottom:25px;
  right:25px;
  background:#d4af37;
  border:none;
  width:60px;
  height:60px;
  border-radius:50%;
  font-size:22px;
  cursor:pointer;
  box-shadow:0 0 25px rgba(212,175,55,.4);
}

.chat-box{
  position:fixed;
  bottom:100px;
  right:25px;
  width:350px;
  max-width:95%;
  height:480px;
  display:none;
  flex-direction:column;
  overflow:hidden;
  animation:fadeUp .4s ease;
}

.chat-header{
  padding:15px;
  background:rgba(0,0,0,.4);
  font-weight:600;
}

.chat-body{
  flex:1;
  padding:15px;
  overflow-y:auto;
  display:flex;
  flex-direction:column;
  gap:10px;
}

.chat-msg{
  padding:8px 12px;
  border-radius:15px;
  max-width:75%;
  font-size:14px;
}

.chat-user{
  background:#d4af37;
  color:#000;
  align-self:flex-end;
}

.chat-admin{
  background:#1e293b;
  align-self:flex-start;
}

.chat-footer{
  display:flex;
  padding:10px;
  gap:5px;
}

.chat-footer input{
  flex:1;
  padding:8px;
  border-radius:20px;
  border:none;
  outline:none;
}

/* ================= ANIMATIONS ================= */

@keyframes fadeUp{
  from{opacity:0;transform:translateY(20px);}
  to{opacity:1;transform:translateY(0);}
}

@keyframes fadeDown{
  from{opacity:0;transform:translateY(-20px);}
  to{opacity:1;transform:translateY(0);}
}

</style>
</head>

<body>

<div class="container">

<header class="header glass">
  <div class="brand">
    <strong>CryptoDigitalPro</strong><br>
    <span>Premium Loan Dashboard</span>
  </div>
  <button id="logoutBtn" class="btn">Logout</button>
</header>

<section class="balance-wrap">
  <div class="balance-box glass">
    <div class="label">Outstanding</div>
    <div id="outstandingBox" class="value">$0.00</div>
  </div>

  <div class="balance-box glass">
    <div class="label">Deposited</div>
    <div id="depositedBox" class="value">$0.00</div>
  </div>

  <div class="balance-box glass">
    <div class="label">Withdrawn</div>
    <div id="withdrawnBox" class="value">$0.00</div>
  </div>

  <div class="balance-box glass">
    <div class="label">Available</div>
    <div id="availableBox" class="value">$0.00</div>
  </div>
</section>

<section>
  <button id="withdrawBtn" class="btn">Withdraw</button>
  <div class="progress-wrap" id="progressWrap">
    <div class="progress-bar" id="progressBar">0%</div>
  </div>
</section>

<section style="margin-top:40px;">
  <h2>Your Loans</h2>
  <div id="loanContainer"></div>
</section>

</div>

<!-- WhatsApp Chat -->
<button class="chat-toggle" id="chatToggle">ðŸ’¬</button>

<div class="chat-box glass" id="chatBox">
  <div class="chat-header">Admin Support</div>
  <div class="chat-body" id="chatBody"></div>
  <div class="chat-footer">
    <input type="text" id="chatInput" placeholder="Type message...">
    <button id="chatSend" class="btn">âž¤</button>
  </div>
</div>

<script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
<script src="dashboard.js"></script>
</body>
</html>